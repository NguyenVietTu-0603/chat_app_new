{% extends "includes/layouts/a.html" %}
{% block content %}
{% load static %}
<h2>Lời mời kết bạn đang chờ</h2>

{% if pending_requests %}
    <ul>
    {% for request in pending_requests %}
        <li>
            <div>
                <img src="{{ request.sender.profile.avatar }}" alt="{{ request.sender.username }}" width="50" height="50">
                <h3>{{ request.sender.profile.name }}</h3>
                <p>
                    @{{ request.sender.username }}
                    {% if request.sender.profile.location %}
                        - {{ request.sender.profile.location }}
                    {% endif %}
                </p>
            </div>
            
            <div>
                <a href="{% url 'user_profile' request.sender.id %}">Xem hồ sơ</a>
                <form action="{% url 'accept_friend_request' request.sender.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Chấp nhận</button>
                </form>
                <form action="{% url 'decline_friend_request' request.sender.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Từ chối</button>
                </form>
            </div>
        </li>
    {% endfor %}

    </ul>
{% else %}
    <p>Bạn không có lời mời kết bạn nào đang chờ.</p>
    <p><a href="{% url 'user_list' %}">Tìm bạn bè</a></p>
{% endif %}
{% endblock content %}